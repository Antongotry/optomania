<div class="pr-footer-item-subscribe mt-md-4 mt-lg-0 order-1 order-md-0 flex-grow-1 flex-lg-grow-0 align-self-lg-stretch">
	<div class="pr-footer-item-subscribe-text d-flex align-items-center gap-3 fsz-14">
		<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
			<path d="M26.9 13.5091V24.7973C26.9 27.1169 25.0196 28.9973 22.7 28.9973H7.3C4.9804 28.9973 3.1 27.1169 3.1 24.7973V13.5091M15 6.59731L15 28.9973M15 6.59731L17.5437 2.49951C18.4597 1.02389 20.3933 0.561376 21.8779 1.46279C23.367 2.36697 23.8461 4.30417 22.9502 5.79828L22.4711 6.59731M15 6.59731L12.4561 2.49927C11.5403 1.02384 9.60685 0.561512 8.12259 1.46301C6.63406 2.3671 6.15521 4.30367 7.05085 5.79729L7.53057 6.59731M3.8 13.5973H26.2C27.7464 13.5973 29 12.3437 29 10.7973V9.39734C29 7.85094 27.7464 6.59734 26.2 6.59734H3.8C2.2536 6.59734 1 7.85094 1 9.39734V10.7973C1 12.3437 2.2536 13.5973 3.8 13.5973Z" stroke="#4F5F99" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
		</svg>
		<div>{{ text_static_subscribe }}</div>
	</div>
	<form action="javascript:;" id="footer-subscribe">
		<div class="input-group mt-3">
			<input type="email" id="InputSubscribeEmail" class="form-control pr-footer-item-subscribe-input" name="email" inputmode="email" placeholder="{{ enter_email_static_subscribe }}" aria-label="Email address">
			<button type="submit" id="footer-make-subscribe" class="button button-secondary pr-footer-item-subscribe-button px-4">
				<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
					<path d="M8.70362 14.7009C8.97976 14.7009 9.20362 14.477 9.20362 14.2009C9.20362 13.9247 8.97976 13.7009 8.70362 13.7009V14.7009ZM16.5 9.80201C16.5 10.0782 16.7239 10.302 17 10.302C17.2761 10.302 17.5 10.0782 17.5 9.80201H16.5ZM1.82893 5.45679L1.58797 5.8949H1.58797L1.82893 5.45679ZM7.8434 8.76475L8.08435 8.32664L7.8434 8.76475ZM10.1566 8.76475L9.91565 8.32664L10.1566 8.76475ZM16.1711 5.45679L15.9301 5.01868L15.9301 5.01868L16.1711 5.45679ZM12.1536 14.6473C11.9583 14.4521 11.6417 14.4521 11.4464 14.6473C11.2512 14.8426 11.2512 15.1592 11.4464 15.3544L12.1536 14.6473ZM13.4 16.6009L13.0464 16.9544C13.2417 17.1497 13.5583 17.1497 13.7536 16.9544L13.4 16.6009ZM17.3536 13.3544C17.5488 13.1592 17.5488 12.8426 17.3536 12.6473C17.1583 12.4521 16.8417 12.4521 16.6464 12.6473L17.3536 13.3544ZM3.4 1.90088H14.6V0.900879H3.4V1.90088ZM1.5 11.8009V3.80088H0.5V11.8009H1.5ZM3.4 13.7009C2.35066 13.7009 1.5 12.8502 1.5 11.8009H0.5C0.5 13.4025 1.79837 14.7009 3.4 14.7009V13.7009ZM14.6 1.90088C15.6493 1.90088 16.5 2.75154 16.5 3.80088H17.5C17.5 2.19925 16.2016 0.900879 14.6 0.900879V1.90088ZM3.4 0.900879C1.79837 0.900879 0.5 2.19925 0.5 3.80088H1.5C1.5 2.75154 2.35066 1.90088 3.4 1.90088V0.900879ZM8.70362 13.7009H3.4V14.7009H8.70362V13.7009ZM16.5 3.80088V9.80201H17.5V3.80088H16.5ZM1.58797 5.8949L7.60244 9.20285L8.08435 8.32664L2.06989 5.01868L1.58797 5.8949ZM10.3976 9.20285L16.412 5.8949L15.9301 5.01868L9.91565 8.32664L10.3976 9.20285ZM1.5 4.05484V3.80088H0.5V4.05484H1.5ZM16.5 3.80088V4.05485H17.5V3.80088H16.5ZM16.412 5.8949C17.0831 5.52582 17.5 4.8207 17.5 4.05485H16.5C16.5 4.45601 16.2816 4.82536 15.9301 5.01868L16.412 5.8949ZM7.60244 9.20285C8.47268 9.68149 9.52732 9.68149 10.3976 9.20285L9.91565 8.32664C9.34549 8.64022 8.65451 8.64022 8.08435 8.32664L7.60244 9.20285ZM2.06989 5.01868C1.71839 4.82536 1.5 4.45601 1.5 4.05484H0.5C0.5 4.8207 0.916919 5.52582 1.58797 5.8949L2.06989 5.01868ZM11.4464 15.3544L13.0464 16.9544L13.7536 16.2473L12.1536 14.6473L11.4464 15.3544ZM13.7536 16.9544L17.3536 13.3544L16.6464 12.6473L13.0464 16.2473L13.7536 16.9544Z" fill="#FFFDFF"></path>
				</svg>
				<span class="d-lg-none d-xl-inline-block">{{ oct_text_subscribe_button }}</span>
			</button>
		</div>
		{% if text_terms %}
		<div class="form-check d-flex align-items-center gap-2 mt-2">
			<input type="checkbox" class="form-check-input" name="agree" id="oct-scales-static">
			<label class="form-check-label d-flex align-items-center fsz-12 grey-text" for="oct-scales-static">{{ text_terms }}</label>
		</div>
		{% endif %}
	</form>
</div>
<script>
	const subscribeUrl = '{{ ajax_subscribe_url|raw }}';

	$("#InputSubscribeEmail, #oct-scales-static").on("change paste keyup", function() {
		$(this).removeClass('error_style');
	});

	$('#footer-make-subscribe').on('click', function() {
		$.ajax({
			type: 'post',
			url: subscribeUrl,
			dataType: 'json',
			cache: false,
			data: $('#footer-subscribe').serialize(),
			success: function(json) {
				if (json['error']) {
					$('#us-subscribe-modal .text-danger').remove();
					let errorOption = '';

					$.each(json['error'], function(i, val) {
						$('#footer-subscribe [name="' + i + '"]').addClass('error_style');
						errorOption += '<div class="alert-text-item">' + val + '</div>';
					});

					prNotify('danger', errorOption);
				} else {
					if (json['output']) {
						$('#footer-subscribe [name="email"]').val('');
						prNotify('success', '<div class="alert-text-item">' + json['output'] + '</div>');
						$('#footer-subscribe [name="agree"]').prop('checked', false);
					}
				}
			}
		});
	});
</script>
