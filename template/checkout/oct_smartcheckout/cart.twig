<div class="pr-sidebar-cart-products">
	{% if weight %}<div class="mb-3 pb-3 border-bottom fsz-16">{{ text_order_weight }}: {{ weight}}</div>{% endif %}
	{% if attention %}
	<div class="alert alert-info d-flex align-items-start fsz-14"><i class="fa fa-info-circle me-2"></i> {{ attention }}
		<button type="button" class="close pr-btn pr-btn-transparent no-btn ms-auto" data-bs-dismiss="alert">&times;</button>
	</div>
	{% endif %}
	{% if error_warning %}
	<script>
		prNotify('danger', '{{ error_warning }}');
	</script>
	<div class="alert alert-danger d-flex align-items-center fsz-14"><i class="fa fa-exclamation-circle me-2"></i> {{ error_warning }}
		<button type="button" class="close pr-btn pr-btn-transparent no-btn ms-auto red fsz-16" data-bs-dismiss="alert">&times;</button>
	</div>
	<script type="text/javascript">
		$(function () {
			$('#button-go').attr('disabled', 'disabled');
			$('#button-go').addClass('disabled');
		});
	</script>
	{% else %}
	<script type="text/javascript">
		$(function () {
			$('#button-go').removeAttr('disabled');
			$('#button-go').removeClass('disabled');
			$('.oct-checkout .alert-danger').addClass('d-none');
		});
	</script>
	{% endif %}

	{% set productKey = 0 %}
	{% for product in products %}
		{% set productKey = productKey + 1 %}
		<div class="pr-sidebar-cart-product d-flex align-items-center gap-3 gap-lg-4">
			{% if product.thumb %}
				<a href="{{ product.href }}" class="pr-sidebar-cart-product-image">
					<img src="{{ product.thumb }}" alt="{{ product.name }}" title="{{ product.name }}" width="70" height="70"/>
				</a>
			{% endif %}
			<div class="pr-sidebar-cart-product-info position-relative flex-grow-1">
				<div class="pr-sidebar-cart-product-title dark-text fsz-14 fw-500 pe-5">
					<a href="{{ product.href }}" class="dark-link">
						{{ product.name }}
						{% if not product.stock %}
							<span class="required ms-2">***</span>
						{% endif %}
					</a>
				</div>
				<div class="pr-sidebar-cart-product-code light-text fsz-12">{{ column_model }}: {{ product.model }}</div>
				{% if product.option %}
					{% for option in product['option'] %}
						<div class="pr-sidebar-cart-product-option light-text fsz-12">{{ option.name }}: {{ option.value }}</div>
					{% endfor %}
				{% endif %}
				{% if product.reward %}
					<div class="pr-sidebar-cart-product-option light-text fsz-12">{{ product.reward }}</div>
				{% endif %}
				{% if product.recurring %}
					<div class="pr-sidebar-cart-product-option light-text fsz-12">{{ text_recurring_item }}{{ product.recurring }}</div>
				{% endif %}
				<div class="pr-sidebar-cart-product-buttons-wrapper position-absolute top-0 end-0 d-flex align-items-center gap-2">
					<button type="button" class="pr-sidebar-cart-product-delete no-btn" aria-label="Delete" onclick="update(this, 'remove');">
						<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 22" fill="none">
							<path d="M2.5 4.5L3.60314 16.6346C3.74323 18.1756 3.81328 18.9461 4.15838 19.5288C4.4623 20.0419 4.91229 20.4529 5.45087 20.7091C6.06242 21 6.83609 21 8.38343 21H11.6166C13.1639 21 13.9376 21 14.5491 20.7091C15.0877 20.4529 15.5377 20.0419 15.8416 19.5288C16.1867 18.9461 16.2568 18.1756 16.3969 16.6346L17.5 4.5M7.5 10V15M12.5 10V15M5 4.5L6.07865 2.61236C6.41422 2.02512 6.582 1.7315 6.81776 1.51789C7.02635 1.32889 7.27249 1.18605 7.54007 1.09871C7.84251 1 8.18068 1 8.85703 1H11.143C11.8193 1 12.1575 1 12.4599 1.09871C12.7275 1.18605 12.9737 1.32889 13.1822 1.51789C13.418 1.7315 13.5858 2.02512 13.9213 2.61236L15 4.5M5 4.5H1M5 4.5H15M15 4.5H19" stroke="#9DA4AE" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
						</svg>
					</button>
				</div>
				<div class="buttons-quantity pr-sidebar-cart-product-bottom d-flex flex-column flex-sm-row justify-content-between mt-3 align-items-sm-center">
					<div class="pr-sidebar-cart-product-quantity d-flex align-items-center">
						<input name="product_id_q" value="{{ product.product_id }}" style="display: none;" type="hidden"/>
						<input name="product_minimum_{{ product.product_id }}" value="{{ product.minimum }}" style="display: none;" type="hidden"/>
						<input name="product_id" value="{{ product.key }}" style="display: none;" type="hidden"/>
						<div class="d-inline-flex align-items-stretch">
							<button type="button" aria-label="Minus" class="pr-quantity-button button button-light button-small p-2 br-8" onclick="update_manual('#quantity-{{ product.quantity }}-{{ productKey }}', '{{ product.key }}', 'minus');">
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="2" viewBox="0 0 16 2" fill="none">
									<path d="M1 1H15" stroke="#4F5F99" stroke-linecap="round" stroke-linejoin="round"></path>
								</svg>
							</button>
							<input id="quantity-{{ product.quantity }}-{{ productKey }}" class="number fw-500 border-0 p-0 text-center fw-500" value="{{ product.quantity }}" type="text" name="quantity" onchange="update_manual(this, '{{ product.key }}');" aria-label="Quantity" inputmode="numeric">
							<button type="button" aria-label="Plus" class="pr-quantity-button button button-light button-small p-2 br-8" onclick="update_manual('#quantity-{{ product.quantity }}-{{ productKey }}', '{{ product.key }}', 'plus');">
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
									<path d="M8 1V15M1 8H15" stroke="#4F5F99" stroke-linecap="round" stroke-linejoin="round"></path>
								</svg>
							</button>
						</div>
						<svg class="mx-2" xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10" fill="none">
							<path d="M1 1L9 9M9 1L1 9" stroke="var(--pr-black-color)" stroke-linecap="round" stroke-linejoin="round"></path>
						</svg>
						{% if product.price %}
							<span class="pr-sidebar-cart-product-price-one light-text fw-500">{{ product.price }}</span>
						{% endif %}
					</div>
					{% if product.total %}
						<span class="dark-text fw-600 fsz-20 mt-3 mt-sm-0">{{ column_total }}: <span class="pr-sidebar-cart-product-total">{{ product.total }}</span></span>
					{% endif %}
				</div>
			</div>
		</div>
	{% endfor %}
</div>
<div class="oct-bottom-total-cart d-none">
	{% if free_shipping_from_text %}
		<div class="pr-sidebar-cart-delivery text-start fsz-14 mb-4 border-bottom{% if total_percentage >= 100 %} green pb-3{% else %} dark-text{% endif %}">
			{{ free_shipping_from_text }}
			{% if total_percentage < 100 %}
				<div class="pr-sidebar-cart-delivery-progress my-3 my-lg-4 br-4">
					<div class="pr-sidebar-cart-delivery-progress-bar br-4 position-relative" role="progressbar" aria-valuenow="{{ total_value }}" aria-valuemin="0" aria-valuemax="{{ oct_smart_checkout_data.free_shipping_from }}" style="width: {{ total_percentage }}%">
						<span class="pr-sidebar-cart-delivery-progress-bar-car-icon position-absolute">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
								<g clip-path="url(#clip0_371_576)">
								<path d="M18.8502 5.54993C18.7107 5.37943 18.5353 5.24175 18.3366 5.14669C18.1378 5.05163 17.9205 5.00152 17.7002 4.99993H17.1002L17.2502 4.14993C17.2783 3.94793 17.2663 3.74237 17.2148 3.54504C17.1634 3.3477 17.0734 3.16246 16.9502 2.99993C16.663 2.6959 16.2682 2.51642 15.8502 2.49993H3.95023C3.70317 2.49542 3.46244 2.57818 3.27038 2.73365C3.07833 2.88912 2.94725 3.10735 2.90023 3.34993C2.87848 3.49325 2.88814 3.63959 2.92856 3.77881C2.96898 3.91802 3.03918 4.04678 3.1343 4.15617C3.22942 4.26556 3.34719 4.35297 3.47944 4.41232C3.6117 4.47168 3.75528 4.50157 3.90023 4.49993H7.55023C7.76591 4.5041 7.97815 4.55474 8.17248 4.64839C8.36681 4.74205 8.53866 4.87651 8.67629 5.04262C8.81392 5.20873 8.91411 5.40258 8.97001 5.61093C9.02592 5.81928 9.03622 6.03723 9.00023 6.24993L7.80023 13.1499C7.74204 13.4946 7.56531 13.8081 7.30057 14.0363C7.03583 14.2646 6.6997 14.3932 6.35023 14.3999H2.40023C2.16628 14.3952 1.93809 14.4727 1.75537 14.6189C1.57265 14.765 1.44698 14.9707 1.40023 15.1999L1.00023 17.3499C0.969507 17.5556 0.984979 17.7655 1.04552 17.9644C1.10606 18.1633 1.21015 18.3463 1.35023 18.4999C1.47919 18.6536 1.63969 18.7778 1.82085 18.8641C2.00202 18.9504 2.1996 18.9967 2.40023 18.9999H3.65023C3.86782 19.719 4.31101 20.349 4.9143 20.7968C5.51759 21.2445 6.24894 21.4863 7.00023 21.4863C7.75152 21.4863 8.48287 21.2445 9.08616 20.7968C9.68944 20.349 10.1326 19.719 10.3502 18.9999H12.6502C12.8678 19.719 13.311 20.349 13.9143 20.7968C14.5176 21.2445 15.2489 21.4863 16.0002 21.4863C16.7515 21.4863 17.4829 21.2445 18.0862 20.7968C18.6894 20.349 19.1326 19.719 19.3502 18.9999H20.3502C20.726 18.9928 21.0873 18.8536 21.3707 18.6067C21.6541 18.3599 21.8416 18.0212 21.9002 17.6499L23.0002 11.2499L18.8502 5.54993ZM7.00023 19.4999C6.6024 19.4999 6.22087 19.3419 5.93957 19.0606C5.65826 18.7793 5.50023 18.3978 5.50023 17.9999C5.50023 17.6021 5.65826 17.2206 5.93957 16.9393C6.22087 16.658 6.6024 16.4999 7.00023 16.4999C7.39805 16.4999 7.77958 16.658 8.06089 16.9393C8.34219 17.2206 8.50023 17.6021 8.50023 17.9999C8.50023 18.3978 8.34219 18.7793 8.06089 19.0606C7.77958 19.3419 7.39805 19.4999 7.00023 19.4999ZM16.0002 19.4999C15.6024 19.4999 15.2209 19.3419 14.9396 19.0606C14.6583 18.7793 14.5002 18.3978 14.5002 17.9999C14.5002 17.6021 14.6583 17.2206 14.9396 16.9393C15.2209 16.658 15.6024 16.4999 16.0002 16.4999C16.3981 16.4999 16.7796 16.658 17.0609 16.9393C17.3422 17.2206 17.5002 17.6021 17.5002 17.9999C17.5002 18.3978 17.3422 18.7793 17.0609 19.0606C16.7796 19.3419 16.3981 19.4999 16.0002 19.4999ZM16.0502 10.9999L16.7502 6.99993H17.4002L20.3502 10.9999H16.0502Z" fill="#4AB246"></path>
								<path d="M2 7.5H7C7.26522 7.5 7.51957 7.39464 7.70711 7.20711C7.89464 7.01957 8 6.76522 8 6.5C8 6.23478 7.89464 5.98043 7.70711 5.79289C7.51957 5.60536 7.26522 5.5 7 5.5H2C1.73478 5.5 1.48043 5.60536 1.29289 5.79289C1.10536 5.98043 1 6.23478 1 6.5C1 6.76522 1.10536 7.01957 1.29289 7.20711C1.48043 7.39464 1.73478 7.5 2 7.5Z" fill="#4AB246"></path>
								<path d="M7.5 9.5C7.5 9.23478 7.39464 8.98043 7.20711 8.79289C7.01957 8.60536 6.76522 8.5 6.5 8.5H2.5C2.23478 8.5 1.98043 8.60536 1.79289 8.79289C1.60536 8.98043 1.5 9.23478 1.5 9.5C1.5 9.76522 1.60536 10.0196 1.79289 10.2071C1.98043 10.3946 2.23478 10.5 2.5 10.5H6.5C6.76522 10.5 7.01957 10.3946 7.20711 10.2071C7.39464 10.0196 7.5 9.76522 7.5 9.5Z" fill="#4AB246"></path>
								<path d="M3 11.5C2.73478 11.5 2.48043 11.6054 2.29289 11.7929C2.10536 11.9804 2 12.2348 2 12.5C2 12.7652 2.10536 13.0196 2.29289 13.2071C2.48043 13.3946 2.73478 13.5 3 13.5H6C6.26522 13.5 6.51957 13.3946 6.70711 13.2071C6.89464 13.0196 7 12.7652 7 12.5C7 12.2348 6.89464 11.9804 6.70711 11.7929C6.51957 11.6054 6.26522 11.5 6 11.5H3Z" fill="#4AB246"></path>
								</g>
								<defs>
								<clipPath id="clip0_371_576">
									<rect width="24" height="24" fill="white"></rect>
								</clipPath>
								</defs>
							</svg>
						</span>
					</div>
				</div>
			{% endif %}
		</div>
	{% endif %}
	{% for total in totals %}
		<div class="pr-cart-column-total-item mb-3 d-flex align-items-center justify-content-between fsz-14 fw-500 dark-text">
			<span class="me-auto pe-3">{{ total.title }}</span> <span class="fw-700 fsz-16{% if total.code == 'oct_product_set' %} red{% endif %}">{{ total.text }}</span>
		</div>
	{% endfor %}
	{% if weight %}
		<div class="pr-cart-column-total-item mb-3 d-flex align-items-center justify-content-between fsz-14 fw-500 dark-text">
			{{ text_weight }} <span class="fw-700 fsz-16">{{ weight }}</span>
		</div>
	{% endif %}
</div>
<script>
	function updateTotal() {
		let oldTotal = document.querySelector('.pr-cart-column-total'),
			content = document.querySelector('.oct-bottom-total-cart');

		oldTotal.innerHTML = content.innerHTML;
	}

	updateTotal();
</script>

{% for voucher in vouchers %}
<div class="content-block p-2 p-md-3 mt-3">
	<div class="d-flex align-items-center justify-content-between">
		<input type="text" name="" value="1" size="1" disabled="disabled" hidden class="form-control" />
		<div class="mr-auto d-flex align-items-center gap-2">
			<p class="dark-text fw-300">{{ voucher.description }}</p>
			<div class="oct-checkout-cart-total">{{ voucher.amount }}</div>
		</div>
		<button type="button" class="no-btn" onclick="voucher.remove('{{ voucher.key }}');formChangeData();return false;">
			<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 14 14" fill="none">
				<path d="M13.7783 12.2207C14.0713 12.5137 14.0713 12.9888 13.7783 13.2818C13.6323 13.4278 13.4403 13.5017 13.2483 13.5017C13.0563 13.5017 12.8643 13.4288 12.7183 13.2818L7.24828 7.81173L1.77828 13.2818C1.63228 13.4278 1.44028 13.5017 1.24828 13.5017C1.05628 13.5017 0.864285 13.4288 0.718285 13.2818C0.425285 12.9888 0.425285 12.5137 0.718285 12.2207L6.18829 6.75076L0.718285 1.28079C0.425285 0.987785 0.425285 0.51275 0.718285 0.21975C1.01129 -0.07325 1.48629 -0.07325 1.77929 0.21975L7.24929 5.68978L12.7193 0.21975C13.0123 -0.07325 13.4873 -0.07325 13.7803 0.21975C14.0733 0.51275 14.0733 0.987785 13.7803 1.28079L8.31028 6.75076L13.7783 12.2207Z" fill="#D84040"></path>
			</svg>
		</button>
	</div>
</div>
{% endfor %}